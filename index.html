<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/src/images/favicon.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
        integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
    <link rel="stylesheet" href="/src/styles/style.css">
    <script src="/src/scripts/script.js" defer></script>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="./src/images/intl-tel-input-17.0.0/build/css/intlTelInput.css">
    <script src="/src/images/intl-tel-input-17.0.0/build/js/intlTelInput.js"></script>
    <title>Contact</title>
</head>

<body>

    <header class="text-gray-700">
        <div class="header border bg-gray-100">
            <div class="max-width relative max-w-screen-xl w-full my-0 mx-auto">
                <div class="header-top flex justify-between items-center h-28">
                    <div class="header-top-left flex items-center items-center px-5">
                        <a href="#" class="logo"><img src="/src/images/logo.svg" alt=""></a>
                    </div>
                    <div class="flex lg:hidden" x-data="{ show: false }">
                        <ul class="flex">
                            <li class="w-10 h-8 mx-6 font-bold">
                                <a href="#"> <img src="/src/images/service.png" alt=""></a>
                            </li>
                            <li class="mx-6 font-bold text-xs lg:text-xl">
                                <a href="#" class="flex bg-green-400 pt-2.5 pl-1 pb-2 lg:pb-1.5 pr-3 rounded"><img
                                        class="mx-1 ml-1.5 w-3.5 h-3.5 lg:w-7 lg:h-7" src="/src/images/phone.svg"
                                        alt="">
                                    <span class="pl-2 pr-1">09 800 89 800</span> </a>
                            </li>
                            <li class="self-center"> <button class="openbtn pr-5" @click="show = !show"
                                    :aria-expanded="show ? 'true' : 'false'" :class="{'active' : show }"><i
                                        class="fas fa-bars"></i></button></li>
                        </ul>
                        <div class="w-96 fixed z-10 h-52 top-0 left-0 bg-gray-100 overflow-x-hidden delay-100 pt-10"
                            x-show="show">
                            <ul class="nav-items flex flex-col justify-end items-left">
                                <button class="openbtn place-self-start pl-2 fixed top-2" @click="show = !show"
                                    :aria-expanded="show ? 'true' : 'false'" :class="{'active' : show }">x</i></button>
                                <li class="mx-6 font-bold text-sm mb-4 justify-between"><a href="#">Comment ça marche
                                        ?</a></li>
                                <li class="login mx-6 font-bold text-sm mb-4"> <a href="#"><i
                                            class="glyphicon fa-user fas pr-2"></i>
                                        <span class="underline">Connexion</span></a></li>
                                <li class="w-7 mx-6 font-bold mb-4">
                                    <a href="#"> <img src="/src/images/service.png" alt=""></a>
                                </li>
                                <li class="mx-6 font-bold text-sm mb-3">
                                    <a href="#" class="flex bg-green-400 p-1 pt-1.5 rounded w-36"><img class="w-4"
                                            src="/src/images/phone.svg" alt="">
                                        <span class="pl-2 pr-1">09 800 89 800</span> </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="header-top-right hidden lg:flex">
                        <ul class="nav-items flex justify-end items-center">
                            <li class="mx-6 font-bold text-xl"><a href="#">Comment ça marche ?</a></li>
                            <li class="login mx-6 font-bold text-xl"> <a href="#"><i
                                        class="glyphicon fa-user fas pr-2"></i><span class="underline">Connexion</span>
                                </a></li>
                            <li class="w-16 h-14 mx-6 font-bold">
                                <a href="#"> <img src="/src/images/service.png" alt=""></a>
                            </li>
                            <li class="mx-6 font-bold text-xl">
                                <a href="#" class="flex bg-green-400 pt-2.5 pl-1 pb-1.5 pr-3 rounded"><img
                                        class="mx-1 ml-1.5" src="/src/images/phone.svg" alt="">
                                    <span class="pl-2 pr-1">09 800 89 800</span> </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container py-10 block w-max m-auto font-light">
        <div class="text-center mt-16 mb-36" x-data="contactForm">
            <p class="bg-green-400 rounded text-4xl font-bold text-center mx-auto mb-10 w-80">Une question ?</p>
            <p class="font-bold text-center text-xl mb-8">On vous répondra par email en quelques heures</p>
            <p class="text-center  text-xl mb-10">Les jours ouvrés du lundi au vendredi de 9h à 18h30</p>
            <div x-show="!successFinalMessage">
                <div x-data="{isAllowed: false}">
                    <div x-show="!isAllowed" class="flex flex-col">
                        <input type="email" x-model="formData.email" placeholder="Votre e-mail"
                            class="bg-gray-100 rounded w-96 mx-auto mb-4 p-2">
                        <input type="text" x-model="formData.question" placeholder="Quel est le sujet ?"
                            class="bg-gray-100 rounded w-96 mx-auto mb-4 p-2">
                        <textarea x-model="formData.message" placeholder="Votre message" rows="5" id=""
                            class="bg-gray-100 rounded w-96 mx-auto mb- p-2"></textarea>
                        <input type="tel" id="phone" x-model="phone" placeholder="Votre phone"
                            class="bg-gray-100 rounded w-96 mx-auto mb-4 p-2">
                        <input type="text" x-model.number="numberSteps"
                            placeholder="Entrez le nombre de membres de la famille"
                            class="bg-gray-100 rounded w-96 mx-auto mb-4 mt-4 p-2">
                        <div class="font-bold text-red-400 pb-5">
                            <template x-for="(err, i) in firstStepErrors" :key="i">
                                <p x-text="err"></p>
                            </template>
                        </div>
                        <input type="submit" value="Suivante"
                            class="bg-green-400 rounded text-2xl font-bold py-2 px-24 cursor-pointer"
                            @click="firstStepHandler().length == 0 ? isAllowed = !isAllowed : firstStepHandler">
                    </div>
                    <div x-show="isAllowed">
                        <div x-data="{swiper: null}" x-init="swiper = newSwiper()"
                            class="relative w-10/12 mx-auto flex flex-row swiper">
                            <div class="flex swiper-wrapper">
                                <template x-for="(num, index) in numberSteps" :key="index">
                                    <div class="px-2 swiper-slide"
                                        x-data="{ open: false , nameValue: '', title: '', isOpen: false, dateValue: '' }">
                                        <div class="swiper-button-prev" @click="swiper.slidePrev()">
                                        </div>

                                        <select class="bg-white w-96 mx-auto mt-10 mb-0" @click="isOpen = !isOpen"
                                            @keydown.escape="isOpen = false" x-model="title" class="flex items-center">
                                            <option value="gender">Select title</option>
                                            <option value="miss">Miss</option>
                                            <option value="mister">Mister</option>
                                        </select><br>
                                        <input type="text" x-model="nameValue" placeholder="Entrez le nom"
                                            value="nameValue"
                                            class="bg-gray-100 rounded w-96 mx-auto mt-1 mb-0 p-2"><br>

                                        <!-- date -->
                                        <div>
                                            <label for="date" class=" w-96 font-normal text-left ">Entrez votre date de
                                                naissance</label><br>
                                            <input type="date" id="date" placeholder="Entrez votre date de naissance"
                                                x-model="dateValue"
                                                class="bg-gray-100 rounded w-96 mx-auto mb-4 p-2"><br>
                                        </div>


                                        <label>Signer pour le journal</label>
                                        <button @click="open = !open"
                                            :x-model="open ? nameData.newsletter = true : nameData.newsletter = false"
                                            type="button"
                                            class="flex-shrink-0 group relative rounded-full inline-flex items-center justify-center h-5 w-10 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                                            role="switch" :aria-checked="open ? 'true' : 'false'">
                                            <span :aria-hidden="open ? 'true' : 'false'"
                                                class="bg-gray-200 pointer-events-none absolute h-4 w-9 mx-auto rounded-full transition-colors ease-in-out duration-200"
                                                :class="{'bg-indigo-600': open}"></span>
                                            <span :aria-hidden="open ? 'true' : 'false'"
                                                class="translate-x-0 pointer-events-none absolute left-0 inline-block h-5 w-5 border border-gray-200 rounded-full bg-white shadow transform ring-0 transition-transform ease-in-out duration-200"
                                                :class="{'translate-x-5': open}"></span>
                                        </button><br>
                                        <input class="bg-green-300 rounded text-1xl px-4 cursor-pointer" type="submit"
                                            value="Suivante" @click="subStepHandler(num, nameValue, title, dateValue)">
                                        <div class="swiper-button-next" @click="swiper.slideNext()">
                                        </div>
                                        <div class="font-bold text-red-400 pb-5">
                                            <template x-for="(err, i) in secondStepErrors" :key="i">
                                                <p x-text="err"></p>
                                            </template>
                                        </div>
                                    </div>
                                </template>
                            </div>
                            <div class="swiper-pagination"></div>
                        </div>
                        <div class="font-bold text-red-400 pb-5">
                            <template x-for="(err, i) in firstStepErrors" :key="i">
                                <p x-text="err"></p>
                            </template>
                        </div>
                        <div class="pb-5">
                            <input type="submit" value="Précédent"
                                class="bg-green-400 rounded text-2xl font-bold py-2 px-24 cursor-pointer"
                                @click="isAllowed = !isAllowed">
                            <input type="submit" value="Envoyer"
                                class="bg-green-400 rounded text-2xl font-bold py-2 px-24 cursor-pointer"
                                @click="sendDataHandler().length > 0 ? isAllowed = true : isAllowed = false">
                        </div>
                    </div>
                </div>
            </div>
            <div x-show="successFinalMessage" class="font-bold text-4xl text-green-500 italic pt-5 pb-24"
                x-text="successMessage"></div>
        </div>
        </div>
    </main>

    <footer class="pt-16 pb-5 bg-gray-100 text-xl text-gray-700 font-light">
        <div>
            <nav
                class="grid md:flex place-items-center md:place-items-start max-w-screen-xl my-0 mx-auto justify-between flex-wrap footer-widget">
                <ul class="mx-6 text-center grid-column-1-3 mb-14">
                    <li class="px-5">
                        <a href="#"><img src="/src/images/logo.svg" alt=""></a>
                    </li>
                </ul>
                <ul class="w-40 mx-6 self-start">
                    <li class="mb-5 font-bold">A propos</li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Guide</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Qui sommes nous ?</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Contact</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">FAQ</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Politique de confidentialité</a></li>
                </ul>
                <ul class="w-40 mx-6">
                    <li class="mb-5 font-bold">Nos services</li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Electricité</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Gaz</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Assurance habitation</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Assurance véhicule</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Assurance emprunteur</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Téléphone</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Internet</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Frais bancaires</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Mutuelle</a></li>
                    <li class="mb-5 hover:text-green-400"><a href="#">Abonnement</a></li>
                </ul>
                <ul class="mx-6 md:mx-6 ">
                    <li class="flex flex-row mb-5">
                        <img src="/src/images/mail.svg" alt="">&nbsp;&nbsp; 50€ offert pour votre premier parrainage
                    </li>
                    <li class="bg-indigo-500 text-white font-bold mb-10 p-4 w-48 rounded-md text-lg">
                        <a class="button" href="#"><span class="pl-1 pr-2">J’ÉCONOMISE</span>
                            <i class="fa-angle-double-right fas button-icon-right" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="https://www.facebook.com"><img src="/src/images/fb.svg" alt="facebook"></a>
                    </li>
                </ul>
            </nav>
            <p class="text-center text-xs mt-10 hover:text-green-400"><a href="#">CGV - CGI - Cookies</a></p>
        </div>
    </footer>
    <script>
        let input = document.querySelector('#phone');
        let iti = window.intlTelInput(input, {
            initialCountry: "fr",
            separateDialCode: true,
            nationalMode: true,
            formatOnDisplay: true,
            hiddenInput: "full_phone",
            utilsScript: "/src/images/intl-tel-input-17.0.0/build/js/utils.js",
        });
    </script>
</body>

</html>
